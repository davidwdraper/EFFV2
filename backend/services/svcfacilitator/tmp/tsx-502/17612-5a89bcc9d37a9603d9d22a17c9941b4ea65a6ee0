{"code":"__filename=\"/Users/ddraper005/eff/backend/services/shared/src/db/mongo/MongoDbFactory.ts\";(()=>{\nvar __defProp=Object.defineProperty;var __getOwnPropDesc=Object.getOwnPropertyDescriptor;var __getOwnPropNames=Object.getOwnPropertyNames;var __hasOwnProp=Object.prototype.hasOwnProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});var __export=(target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:true})};var __copyProps=(to,from,except,desc)=>{if(from&&typeof from===\"object\"||typeof from===\"function\"){for(let key of __getOwnPropNames(from))if(!__hasOwnProp.call(to,key)&&key!==except)__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable})}return to};var __toCommonJS=mod=>__copyProps(__defProp({},\"__esModule\",{value:true}),mod);var MongoDbFactory_exports={};__export(MongoDbFactory_exports,{MongoDbFactory:()=>MongoDbFactory});module.exports=__toCommonJS(MongoDbFactory_exports);var import_mongodb=require(\"mongodb\");class MongoDbFactory{static{__name(this,\"MongoDbFactory\")}client=null;_connected=false;async connect(info){if(this._connected&&this.client)return;const client=new import_mongodb.MongoClient(info.uri,{serverSelectionTimeoutMS:2e3});await client.connect();this.client=client;this._connected=true}async close(){if(!this.client)return;try{await this.client.close()}finally{this.client=null;this._connected=false}}isConnected(){return this._connected&&!!this.client}getDb(dbName){if(!this.client)throw new Error(\"[MongoDbFactory] not connected\");if(!dbName)throw new Error(\"[MongoDbFactory] dbName required\");return this.client.db(dbName)}getCollection(name,dbName){const db=this.getDb(dbName);return db.collection(name)}}0&&(module.exports={MongoDbFactory});\n})()\n","warnings":[],"map":{"version":3,"mappings":";suBAAA,uJASA,mBAA2D,mBAGpD,MAAM,cAAqC,CAZlD,MAYkD,+BACxC,OAA6B,KAC7B,WAAa,MAErB,MAAa,QAAQ,KAAwC,CAC3D,GAAI,KAAK,YAAc,KAAK,OAAQ,OACpC,MAAM,OAAS,IAAI,2BAAY,KAAK,IAAK,CACvC,yBAA0B,GAC5B,CAAC,EACD,MAAM,OAAO,QAAQ,EACrB,KAAK,OAAS,OACd,KAAK,WAAa,IACpB,CAEA,MAAa,OAAuB,CAClC,GAAI,CAAC,KAAK,OAAQ,OAClB,GAAI,CACF,MAAM,KAAK,OAAO,MAAM,CAC1B,QAAE,CACA,KAAK,OAAS,KACd,KAAK,WAAa,KACpB,CACF,CAEO,aAAuB,CAC5B,OAAO,KAAK,YAAc,CAAC,CAAC,KAAK,MACnC,CAEO,MAAM,OAAqB,CAChC,GAAI,CAAC,KAAK,OAAQ,MAAM,IAAI,MAAM,gCAAgC,EAClE,GAAI,CAAC,OAAQ,MAAM,IAAI,MAAM,kCAAkC,EAC/D,OAAO,KAAK,OAAO,GAAG,MAAM,CAC9B,CAGO,cACL,KACA,OACqB,CACrB,MAAM,GAAK,KAAK,MAAM,MAAM,EAC5B,OAAO,GAAG,WAAoB,IAAI,CACpC,CACF","names":[],"ignoreList":[],"sources":["/Users/ddraper005/eff/backend/services/shared/src/db/mongo/MongoDbFactory.ts"],"sourcesContent":[null]}}