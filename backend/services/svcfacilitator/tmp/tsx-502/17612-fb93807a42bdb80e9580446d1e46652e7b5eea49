{"code":"__filename=\"/Users/ddraper005/eff/backend/services/shared/src/contracts/serviceConfig.wire.ts\";(()=>{\nvar __defProp=Object.defineProperty;var __getOwnPropDesc=Object.getOwnPropertyDescriptor;var __getOwnPropNames=Object.getOwnPropertyNames;var __hasOwnProp=Object.prototype.hasOwnProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});var __export=(target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:true})};var __copyProps=(to,from,except,desc)=>{if(from&&typeof from===\"object\"||typeof from===\"function\"){for(let key of __getOwnPropNames(from))if(!__hasOwnProp.call(to,key)&&key!==except)__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable})}return to};var __toCommonJS=mod=>__copyProps(__defProp({},\"__esModule\",{value:true}),mod);var serviceConfig_wire_exports={};__export(serviceConfig_wire_exports,{EdgePolicyJSONArraySchema:()=>EdgePolicyJSONArraySchema,EdgePolicyJSONSchema:()=>EdgePolicyJSONSchema,MirrorJSONSchema:()=>MirrorJSONSchema,S2SPolicyJSONArraySchema:()=>S2SPolicyJSONArraySchema,S2SPolicyJSONSchema:()=>S2SPolicyJSONSchema,ServiceConfigJSONSchema:()=>ServiceConfigJSONSchema,SvcMethodSchema:()=>SvcMethodSchema,svcKey:()=>svcKey});module.exports=__toCommonJS(serviceConfig_wire_exports);var import_zod=require(\"zod\");const svcKey=__name((slug,version)=>`${String(slug).toLowerCase()}@${Math.trunc(Number(version))}`,\"svcKey\");const SvcMethodSchema=import_zod.z.enum([\"GET\",\"PUT\",\"POST\",\"PATCH\",\"DELETE\"]);const MongoIdLooseSchema=import_zod.z.union([import_zod.z.string().min(1),import_zod.z.object({$oid:import_zod.z.string().min(1)})]);const EdgePolicyJSONSchema=import_zod.z.object({type:import_zod.z.literal(\"Edge\"),svcconfigId:MongoIdLooseSchema,_id:MongoIdLooseSchema.optional(),slug:import_zod.z.string().min(1),method:SvcMethodSchema,path:import_zod.z.string().min(1),bearerRequired:import_zod.z.boolean(),enabled:import_zod.z.boolean(),updatedAt:import_zod.z.string().min(1),notes:import_zod.z.string().min(1).optional(),minAccessLevel:import_zod.z.number().int().optional()});const S2SPolicyJSONSchema=import_zod.z.object({type:import_zod.z.literal(\"S2S\"),svcconfigId:MongoIdLooseSchema,_id:MongoIdLooseSchema.optional(),slug:import_zod.z.string().min(1),method:SvcMethodSchema,path:import_zod.z.string().min(1),enabled:import_zod.z.boolean(),updatedAt:import_zod.z.string().min(1),notes:import_zod.z.string().min(1).optional()});const EdgePolicyJSONArraySchema=import_zod.z.array(EdgePolicyJSONSchema);const S2SPolicyJSONArraySchema=import_zod.z.array(S2SPolicyJSONSchema);const ServiceConfigJSONSchema=import_zod.z.object({_id:import_zod.z.string().min(1),slug:import_zod.z.string().min(1),version:import_zod.z.number().int().min(1),enabled:import_zod.z.literal(true),internalOnly:import_zod.z.boolean(),baseUrl:import_zod.z.string().min(1),outboundApiPrefix:import_zod.z.string().min(1),exposeHealth:import_zod.z.boolean(),changedByUserId:import_zod.z.string().min(1).optional(),updatedAt:import_zod.z.string().min(1),policies:import_zod.z.object({edge:EdgePolicyJSONArraySchema,s2s:S2SPolicyJSONArraySchema})});const MirrorJSONSchema=import_zod.z.record(import_zod.z.string(),ServiceConfigJSONSchema);0&&(module.exports={EdgePolicyJSONArraySchema,EdgePolicyJSONSchema,MirrorJSONSchema,S2SPolicyJSONArraySchema,S2SPolicyJSONSchema,ServiceConfigJSONSchema,SvcMethodSchema,svcKey});\n})()\n","warnings":[],"map":{"version":3,"mappings":";suBAAA,ydAiBA,eAAkB,eAIX,MAAM,OAAS,QAAC,KAAc,UACnC,GAAG,OAAO,IAAI,EAAE,YAAY,CAAC,IAAI,KAAK,MAAM,OAAO,OAAO,CAAC,CAAC,GADxC,UAKf,MAAM,gBAAkB,aAAE,KAAK,CACpC,MACA,MACA,OACA,QACA,QACF,CAAC,EAED,MAAM,mBAAqB,aAAE,MAAM,CACjC,aAAE,OAAO,EAAE,IAAI,CAAC,EAChB,aAAE,OAAO,CAAE,KAAM,aAAE,OAAO,EAAE,IAAI,CAAC,CAAE,CAAC,CACtC,CAAC,EAEM,MAAM,qBAAuB,aAAE,OAAO,CAC3C,KAAM,aAAE,QAAQ,MAAM,EACtB,YAAa,mBACb,IAAK,mBAAmB,SAAS,EACjC,KAAM,aAAE,OAAO,EAAE,IAAI,CAAC,EACtB,OAAQ,gBACR,KAAM,aAAE,OAAO,EAAE,IAAI,CAAC,EACtB,eAAgB,aAAE,QAAQ,EAC1B,QAAS,aAAE,QAAQ,EACnB,UAAW,aAAE,OAAO,EAAE,IAAI,CAAC,EAC3B,MAAO,aAAE,OAAO,EAAE,IAAI,CAAC,EAAE,SAAS,EAClC,eAAgB,aAAE,OAAO,EAAE,IAAI,EAAE,SAAS,CAC5C,CAAC,EAEM,MAAM,oBAAsB,aAAE,OAAO,CAC1C,KAAM,aAAE,QAAQ,KAAK,EACrB,YAAa,mBACb,IAAK,mBAAmB,SAAS,EACjC,KAAM,aAAE,OAAO,EAAE,IAAI,CAAC,EACtB,OAAQ,gBACR,KAAM,aAAE,OAAO,EAAE,IAAI,CAAC,EACtB,QAAS,aAAE,QAAQ,EACnB,UAAW,aAAE,OAAO,EAAE,IAAI,CAAC,EAC3B,MAAO,aAAE,OAAO,EAAE,IAAI,CAAC,EAAE,SAAS,CACpC,CAAC,EAEM,MAAM,0BAA4B,aAAE,MAAM,oBAAoB,EAC9D,MAAM,yBAA2B,aAAE,MAAM,mBAAmB,EAI5D,MAAM,wBAA0B,aAAE,OAAO,CAC9C,IAAK,aAAE,OAAO,EAAE,IAAI,CAAC,EACrB,KAAM,aAAE,OAAO,EAAE,IAAI,CAAC,EACtB,QAAS,aAAE,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,EAC/B,QAAS,aAAE,QAAQ,IAAI,EACvB,aAAc,aAAE,QAAQ,EACxB,QAAS,aAAE,OAAO,EAAE,IAAI,CAAC,EACzB,kBAAmB,aAAE,OAAO,EAAE,IAAI,CAAC,EACnC,aAAc,aAAE,QAAQ,EACxB,gBAAiB,aAAE,OAAO,EAAE,IAAI,CAAC,EAAE,SAAS,EAC5C,UAAW,aAAE,OAAO,EAAE,IAAI,CAAC,EAC3B,SAAU,aAAE,OAAO,CACjB,KAAM,0BACN,IAAK,wBACP,CAAC,CACH,CAAC,EAMM,MAAM,iBAAmB,aAAE,OAAO,aAAE,OAAO,EAAG,uBAAuB","names":[],"ignoreList":[],"sources":["/Users/ddraper005/eff/backend/services/shared/src/contracts/serviceConfig.wire.ts"],"sourcesContent":[null]}}