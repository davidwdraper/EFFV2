{"code":"__filename=\"/Users/ddraper005/eff/backend/services/shared/src/base/ServiceBase.ts\";(()=>{\nvar __defProp=Object.defineProperty;var __getOwnPropDesc=Object.getOwnPropertyDescriptor;var __getOwnPropNames=Object.getOwnPropertyNames;var __hasOwnProp=Object.prototype.hasOwnProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});var __export=(target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:true})};var __copyProps=(to,from,except,desc)=>{if(from&&typeof from===\"object\"||typeof from===\"function\"){for(let key of __getOwnPropNames(from))if(!__hasOwnProp.call(to,key)&&key!==except)__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable})}return to};var __toCommonJS=mod=>__copyProps(__defProp({},\"__esModule\",{value:true}),mod);var ServiceBase_exports={};__export(ServiceBase_exports,{ServiceBase:()=>ServiceBase});module.exports=__toCommonJS(ServiceBase_exports);var import_Logger=require(\"../logger/Logger\");class ServiceBase{static{__name(this,\"ServiceBase\")}service;log;baseLogContext;constructor(opts){this.service=(opts?.service||process.env.SVC_NAME||\"unknown\").trim()||\"unknown\";this.baseLogContext={service:this.service,component:this.constructor.name,...opts?.context||{}};this.log=(0,import_Logger.getLogger)().bind(this.baseLogContext)}env(name){const v=process.env[name];return v===void 0?void 0:String(v)}getEnv(name,required=true){const raw=this.env(name);const val=raw?.trim();if(!val){if(required)throw new Error(`Missing required env: ${name}`);return void 0}return val}getEnvInt(name,required=true){const v=this.getEnv(name,required);if(v==null)return void 0;const n=Number.parseInt(v,10);if(Number.isNaN(n)){if(required)throw new Error(`Invalid integer env: ${name}=\"${v}\"`);return void 0}return n}getEnvBool(name,required=true){const v=this.getEnv(name,required);if(v==null)return void 0;const s=v.toLowerCase();if(s===\"1\"||s===\"true\"||s===\"yes\")return true;if(s===\"0\"||s===\"false\"||s===\"no\")return false;if(required)throw new Error(`Invalid boolean env: ${name}=\"${v}\"`);return void 0}bindLog(ctx){return this.log.bind(ctx)}getLogContext(){return{...this.baseLogContext}}}0&&(module.exports={ServiceBase});\n})()\n","warnings":[],"map":{"version":3,"mappings":";suBAAA,wIAiBA,kBAA6C,4BAItC,MAAe,WAAY,CArBlC,MAqBkC,4BACb,QACA,IACF,eAEjB,YAAY,KAA6C,CACvD,KAAK,SACF,MAAM,SAAW,QAAQ,IAAI,UAAY,WAAW,KAAK,GAAK,UACjE,KAAK,eAAiB,CACpB,QAAS,KAAK,QACd,UAAW,KAAK,YAAY,KAC5B,GAAI,MAAM,SAAW,CAAC,CACxB,EACA,KAAK,OAAM,yBAAU,EAAE,KAAK,KAAK,cAAc,CACjD,CAMU,IAAI,KAAkC,CAC9C,MAAM,EAAI,QAAQ,IAAI,IAAI,EAC1B,OAAO,IAAM,OAAY,OAAY,OAAO,CAAC,CAC/C,CAEU,OAAO,KAAc,SAAW,KAA0B,CAClE,MAAM,IAAM,KAAK,IAAI,IAAI,EACzB,MAAM,IAAM,KAAK,KAAK,EACtB,GAAI,CAAC,IAAK,CACR,GAAI,SAAU,MAAM,IAAI,MAAM,yBAAyB,IAAI,EAAE,EAC7D,OAAO,MACT,CACA,OAAO,GACT,CAEU,UAAU,KAAc,SAAW,KAA0B,CACrE,MAAM,EAAI,KAAK,OAAO,KAAM,QAAQ,EACpC,GAAI,GAAK,KAAM,OAAO,OACtB,MAAM,EAAI,OAAO,SAAS,EAAG,EAAE,EAC/B,GAAI,OAAO,MAAM,CAAC,EAAG,CACnB,GAAI,SAAU,MAAM,IAAI,MAAM,wBAAwB,IAAI,KAAK,CAAC,GAAG,EACnE,OAAO,MACT,CACA,OAAO,CACT,CAEU,WAAW,KAAc,SAAW,KAA2B,CACvE,MAAM,EAAI,KAAK,OAAO,KAAM,QAAQ,EACpC,GAAI,GAAK,KAAM,OAAO,OACtB,MAAM,EAAI,EAAE,YAAY,EACxB,GAAI,IAAM,KAAO,IAAM,QAAU,IAAM,MAAO,MAAO,MACrD,GAAI,IAAM,KAAO,IAAM,SAAW,IAAM,KAAM,MAAO,OACrD,GAAI,SAAU,MAAM,IAAI,MAAM,wBAAwB,IAAI,KAAK,CAAC,GAAG,EACnE,OAAO,MACT,CAMU,QAAQ,IAAyB,CACzC,OAAO,KAAK,IAAI,KAAK,GAAG,CAC1B,CAEU,eAAsB,CAC9B,MAAO,CAAE,GAAG,KAAK,cAAe,CAClC,CACF","names":[],"ignoreList":[],"sources":["/Users/ddraper005/eff/backend/services/shared/src/base/ServiceBase.ts"],"sourcesContent":[null]}}